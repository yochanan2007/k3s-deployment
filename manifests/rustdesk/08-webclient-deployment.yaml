apiVersion: apps/v1
kind: Deployment
metadata:
  name: rustdesk-webclient
  namespace: rustdesk
  labels:
    app: rustdesk-webclient
spec:
  replicas: 1
  selector:
    matchLabels:
      app: rustdesk-webclient
  template:
    metadata:
      labels:
        app: rustdesk-webclient
    spec:
      containers:
        - name: webclient
          image: pmietlicki/rustdesk-web-client:v1
          ports:
            - containerPort: 5000
              name: http
              protocol: TCP
          env:
            - name: CUSTOM_RENDEZVOUS_SERVER
              value: "rustdesk-lb.rustdesk.svc.cluster.local:21116"
            - name: RELAY_SERVER
              value: "rustdesk-relay-lb.rustdesk.svc.cluster.local:21117"
            - name: API_SERVER
              value: ""
            - name: KEY
              value: "yR6HOZJGhLWoUWd8TvOClwOFOqW6sCpzTAOr41Kj74c="
